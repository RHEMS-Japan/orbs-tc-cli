description: >
  This command echos "Hello World" using file inclusion.
parameters:
  tc-secret-id:
    type: env_var_name
    default: "TC_SECRET_ID"
    description: ""
  tc-secret-key:
    type: env_var_name
    default: "TC_SECRET_KEY"
    description: ""
  tc-region:
    type: env_var_name
    default: "TC_REGION"
    description: ""
steps:
  - tc-cli/install-tccli
  - run:
      name: setup tccli
      environment:
        PARAM_TC_SECRET_ID: << parameters.tc-secret-id >>
        PARAM_TC_SECRET_KEY: << parameters.tc-secret-key >>
        PARAM_TC_REGION: << parameters.tc-region >>
      command: |
        PARAM_TC_SECRET_ID=$(eval echo "\$$PARAM_TC_SECRET_ID")
        PARAM_TC_SECRET_KEY=$(eval echo "\$$PARAM_TC_SECRET_KEY")
        PARAM_TC_REGION=$(eval echo "\$$PARAM_TC_REGION")
        
        tccli configure set secretId ${PARAM_TC_SECRET_ID}
        tccli configure set secretKey ${PARAM_TC_SECRET_KEY}
        tccli configure set region ${PARAM_TC_REGION}
